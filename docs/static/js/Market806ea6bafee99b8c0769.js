(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{443:function(e,t,r){"use strict";t.a=[{name:"Tier 1-1",success:70,hploss:200,exp:100,reward:.003135},{name:"Tier 1-2",success:67,hploss:200,exp:110,reward:.003762},{name:"Tier 1-3",success:63,hploss:200,exp:120,reward:.004389},{name:"Tier 2-1",success:59,hploss:200,exp:130,reward:.005016},{name:"Tier 2-2",success:55,hploss:200,exp:150,reward:.005643},{name:"Tier 2-3",success:51,hploss:200,exp:200,reward:.00627},{name:"Boss 1",success:28,hploss:400,exp:400,reward:.02299}]},455:function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return o})),r.d(t,"f",(function(){return u})),r.d(t,"e",(function(){return p})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return d}));var a=r(482),n=r.n(a),i=r(443),s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,i=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done)&&(r.push(s.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l=function(e){return n.a.encode(e)},o=function(e){return n.a.decode(e)},c=function(e){try{return JSON.parse(e)}catch(e){return""}},u=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];localStorage[l(e)]=l(r?JSON.stringify(t):t)},p=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=localStorage[l(e)];if(r)try{var a=o(r);return t?c(a):a}catch(e){return""}return""},f=function(e){var t,r=e.card,a=e.build,n=(e.gas,s(r,4)),i=n[0],l=n[1],o=n[2],c=n[3],u=s(a,4),p=u[0],f=u[1],d=u[2],h=u[3],v=2==+(t=p)?30:3==+t?60:4==+t?140:0,y=function(e){return 2==+e?3:3==+e?6:4==+e?16:0}(f),m=function(e){return 2==+e?-5:3==+e?-13:4==+e?-28:0}(d),g=86.4*(100+m)/100;return{buildData:{attr:v,reward:y,exp:function(e){return 2==+e?30:3==+e?60:4==+e?90:0}(h),dishp:m},cardData:{vatk:10*(i-1)+l+v,vdef:10*(i-1)+o+v,vagi:10*(i-1)+c+v,hpcd:g,everyDayHp:(86400/g).strip(4)}}},d=function(e){var t=e.cardData,r=e.buildData,a=e.gas,n=t.vatk,s=t.vdef,l=t.vagi,o=t.everyDayHp,c=r.reward,u=r.exp;return i.a.map((function(e){var t=e.name,r=e.success,i=e.hploss,p=e.exp,f=e.reward,d=r+n/100,h=f*(100+c)/100,v=h+l*h/1e3,y=i-s/10,m=o/(((100-d)*i+d*y)/100),g=d/100*(p+u),b=Math.ceil(m*g),k=(m*(d/100*v-a)).strip(4);return{name:t,successC:d,rewardC:v.strip(8),hplossC:y,everyXp:b,everyRewrad:k}}))}},615:function(e,t,r){},616:function(e,t,r){},923:function(e,t,r){"use strict";r(615)},924:function(e,t,r){"use strict";r(616)},931:function(e,t,r){"use strict";r.r(t);var a=r(515),n=r.n(a),i=r(524),s=r.n(i),l={name:"item-component",data:function(){var e=this;return{typeObjClass:{1:"",2:"green",3:"blue",4:"purple",5:"orange"},columns:[{title:"編號 No.",key:"tokenId"},{title:"官方頁數 Page",key:"page"},{title:"名字 Name",key:"name"},{title:"職業 Class",key:"heroClass"},{title:"稀有度 Type",key:"heroTypeName",classFn:function(t){var r=t.heroType;return e.typeObjClass[r]+" type"}},{title:"等級 Level",key:"level"},{title:"經驗 EXP",key:"xp"},{title:"價錢 Price",key:"price",classFn:function(){return"right"}}]}},props:{index:{type:Number},source:{type:Object,default:function(){return{}}}}},o=(r(923),r(2)),c=Object(o.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex"},e._l(e.columns,(function(t){return r("div",{key:t.key+e.source.date,staticClass:"center",class:t.classFn&&t.classFn(e.source)},[e._v(e._s(e.source[t.key]))])})),0)}),[],!1,null,"28fffcf8",null).exports,u=r(455),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};function f(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function a(n,i){try{var s=t[n](i),l=s.value}catch(e){return void r(e)}if(!s.done)return Promise.resolve(l).then((function(e){a("next",e)}),(function(e){a("throw",e)}));e(l)}("next")}))}}var d={name:"Market",components:{VirtualList:s.a},data:function(){return{item:c,api:"https://bnbheroes.io/api/market.php",contractData:void 0,filterNo:Object(u.e)("filterNo")||"",filterHero:Object(u.e)("filterHero")||"",filterMoney:Object(u.e)("filterMoney")||"",filterClass:Object(u.e)("filterClass")||"",filterType:Object(u.e)("filterType")||"1",filterType2:Object(u.e)("filterType2")||"5",filterLevel:Object(u.e)("filterLevel")||"",listings:0,params:{page:0,limit:Object(u.e)("pageLimit")||200,rare:0,order:"id",dir:"asc"},columns:[{title:"編號 No.",key:"tokenId"},{title:"官方頁數 Page",key:"page"},{title:"名字 Name",key:"name"},{title:"職業 Class",key:"heroClass"},{title:"稀有度 Type",key:"heroTypeName"},{title:"等級 Level",key:"level"},{title:"經驗 EXP",key:"xp"},{title:"價錢 Price",key:"price"}],data:[],typeObj:{1:"普通 Common",2:"罕見 Uncommon",3:"稀有 Rare",4:"史詩 Epic",5:"傳說 Legendary"},classObj:{1:"士兵 Soldier",2:"獵人 Hunter",3:"刺客 Rogue",4:"法師 Mage",5:"騎士 Knight"},orderIndex:0,orderArr:[{order:"id",dir:"asc",text:"Oldest"},{order:"id",dir:"desc",text:"Newest"},{order:"price",dir:"asc",text:"Price Asc"},{order:"price",dir:"desc",text:"Price Desc"}],isLoading:!0}},beforeMount:function(){var e=this;return f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.getCharactersForPage(1);case 1:case"end":return t.stop()}}),t,e)})))()},methods:{getCharactersForPage:function(e){var t=this;return f(regeneratorRuntime.mark((function r(){var a,i,s,l,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e&&(t.params.page=e-1),t.isLoading=!0,r.prev=2,+(a=p({},t.params)).rare||(a.rare=void 0),r.next=7,n.a.get(t.api,{params:a});case 7:i=r.sent,s=i.data,l=s.data,o=s.count,t.listings=+o,t.handleMarkData(l),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(2),t.data=[];case 17:t.isLoading=!1;case 18:case"end":return r.stop()}}),r,t,[[2,14]])})))()},handlePageLimit:function(e){this.params.limit=e,this.getCharactersForPage(1)},handleMarkData:function(e){var t=this;this.data=e.map((function(e,r){var a=p({},e);a.priceText=a.price+" BNB",a.heroTypeName=t.typeObj[a.heroType],a.heroClass=t.classObj[a.heroClass];var n=t.params.page*t.params.limit+r+1;return a.page=Math.ceil(n/12),a})),Object(u.f)("filterNo",this.filterNo),Object(u.f)("filterHero",this.filterHero),Object(u.f)("filterMoney",this.filterMoney),Object(u.f)("filterClass",this.filterClass),Object(u.f)("filterType",this.filterType),Object(u.f)("filterType2",this.filterType2),Object(u.f)("pageLimit",this.params.limit),Object(u.f)("filterLevel",this.filterLevel)}},computed:{tableData:function(){var e=this;return this.filterNo||this.filterHero||this.filterMoney||this.filterClass||this.filterType||this.filterType2||this.filterLevel?this.data.filter((function(t){var r=t.tokenId,a=t.name,n=t.heroClass,i=t.heroType,s=t.price,l=t.level;return(r.includes(e.filterNo)||!e.filterNo)&&(a.includes(e.filterHero)||!e.filterHero)&&(n.includes(e.filterClass)||!e.filterClass)&&(+e.filterMoney>+s||!e.filterMoney)&&(+i>=+e.filterType||!e.filterType)&&(+e.filterType2>=+i||!e.filterType2)&&(+l>=+e.filterLevel||!e.filterLevel)})):this.data},calcOrder:{get:function(){return this.orderIndex},set:function(e){this.orderIndex=e,this.params.order=this.orderArr[e].order,this.params.dir=this.orderArr[e].dir,this.getCharactersForPage(1)}}}},h=(r(924),Object(o.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("Row",[r("Col",{attrs:{span:"3"}},[r("Select",{attrs:{placeholder:"稀有度"},on:{change:function(t){return e.getCharactersForPage(1)}},model:{value:e.params.rare,callback:function(t){e.$set(e.params,"rare",t)},expression:"params.rare"}},[r("Option",{attrs:{value:0}},[e._v("All")]),e._v(" "),e._l(e.typeObj,(function(t,a){return r("Option",{key:a+33,attrs:{value:a}},[e._v(e._s(t))])}))],2)],1),e._v(" "),r("Col",{attrs:{span:"3"}},[r("Select",{attrs:{placeholder:"排序條件"},model:{value:e.calcOrder,callback:function(t){e.calcOrder=t},expression:"calcOrder"}},e._l(e.orderArr,(function(t,a){return r("Option",{key:a,attrs:{value:a}},[e._v(e._s(t.text))])})),1)],1),e._v(" "),r("Col",{attrs:{span:"3"}},[r("Button",{attrs:{loading:e.isLoading,type:"success",long:"",icon:"ios-search"},on:{click:function(t){return e.getCharactersForPage()}}},[e._v("\n                計算\n            ")])],1)],1),e._v(" "),r("Page",{attrs:{total:e.listings,"page-size":+e.params.limit,"show-sizer":"","page-size-opts":[10,20,50,200,400,1e3,2e3,3e3],"prev-text":"Previous","next-text":"Next"},on:{"on-change":e.getCharactersForPage,"on-page-size-change":e.handlePageLimit}}),e._v(" "),r("Row",[r("Col",{attrs:{span:"3"}},[r("Input",{attrs:{clearable:"",placeholder:"編號"},model:{value:e.filterNo,callback:function(t){e.filterNo=t},expression:"filterNo"}})],1),e._v(" "),r("Col",{attrs:{span:"3"}},[r("Input",{attrs:{clearable:"",placeholder:"英雄"},model:{value:e.filterHero,callback:function(t){e.filterHero=t},expression:"filterHero"}})],1),e._v(" "),r("Col",{attrs:{span:"3"}},[r("Input",{attrs:{clearable:"",placeholder:"職業"},model:{value:e.filterClass,callback:function(t){e.filterClass=t},expression:"filterClass"}})],1),e._v(" "),r("Col",{attrs:{span:"3"}},[r("Select",{attrs:{placeholder:"稀有度以上"},model:{value:e.filterType,callback:function(t){e.filterType=t},expression:"filterType"}},e._l(e.typeObj,(function(t,a){return r("Option",{key:a,attrs:{value:a}},[e._v(e._s(t))])})),1)],1),e._v(" "),r("Col",{attrs:{span:"3"}},[r("Select",{attrs:{placeholder:"稀有度以下"},model:{value:e.filterType2,callback:function(t){e.filterType2=t},expression:"filterType2"}},e._l(e.typeObj,(function(t,a){return r("Option",{key:t+a,attrs:{value:a}},[e._v(e._s(t))])})),1)],1),e._v(" "),r("Col",{attrs:{span:"3"}},[r("Input",{attrs:{clearable:"",placeholder:"等級"},model:{value:e.filterLevel,callback:function(t){e.filterLevel=t},expression:"filterLevel"}})],1),e._v(" "),r("Col",{attrs:{span:"3"}},[r("Input",{attrs:{clearable:"",placeholder:"價格"},model:{value:e.filterMoney,callback:function(t){e.filterMoney=t},expression:"filterMoney"}})],1)],1),e._v(" "),r("div",{staticClass:"flex"},e._l(e.columns,(function(t){return r("div",{key:t.key,staticClass:"center"},[e._v(e._s(t.title))])})),0),e._v(" "),r("VirtualList",{staticStyle:{height:"calc(100vh - 270px)","overflow-y":"auto"},attrs:{"data-key":"tokenId","data-sources":e.tableData,"data-component":e.item}})],1)}),[],!1,null,"4bd89b88",null));t.default=h.exports}}]);
//# sourceMappingURL=Market806ea6bafee99b8c0769.js.map