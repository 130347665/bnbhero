(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{436:function(e,t,n){"use strict";t.a=[{name:"Tier 1-1",success:70,hploss:200,exp:100,reward:.0033},{name:"Tier 1-2",success:67,hploss:200,exp:110,reward:.00396},{name:"Tier 1-3",success:63,hploss:200,exp:120,reward:.0462},{name:"Tier 2-1",success:59,hploss:200,exp:130,reward:.00528},{name:"Tier 2-2",success:55,hploss:200,exp:150,reward:.00594},{name:"Tier 2-3",success:51,hploss:200,exp:200,reward:.0066},{name:"Boss 1",success:28,hploss:400,exp:400,reward:.0242}]},448:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d}));var a=n(475),i=n.n(a),r=n(436),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,r=void 0;try{for(var u,p=e[Symbol.iterator]();!(a=(u=p.next()).done)&&(n.push(u.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{!a&&p.return&&p.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},p=function(e){return i.a.encode(e)},s=function(e){return i.a.decode(e)},y=function(e){try{return JSON.parse(e)}catch(e){return""}},l=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];localStorage[p(e)]=p(n?JSON.stringify(t):t)},o=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=localStorage[p(e)];if(n)try{var a=s(n);return t?y(a):a}catch(e){return""}return""},c=function(e){var t,n=e.card,a=e.build,i=(e.gas,u(n,4)),r=i[0],p=i[1],s=i[2],y=i[3],l=u(a,4),o=l[0],c=l[1],d=l[2],m=l[3],f=2==+(t=o)?30:3==+t?60:4==+t?140:0,T=function(e){return 2==+e?3:3==+e?6:4==+e?16:0}(c),b=function(e){return 2==+e?-5:3==+e?-12:4==+e?-28:0}(d),h=86.4*(100+b)/100;return{buildData:{attr:f,reward:T,exp:function(e){return 2==+e?30:3==+e?60:4==+e?90:0}(m),dishp:b},cardData:{vatk:10*(r-1)+p+f,vdef:10*(r-1)+s+f,vagi:10*(r-1)+y+f,hpcd:h,everyDayHp:(86400/h).strip(4)}}},d=function(e){var t=e.cardData,n=e.buildData,a=e.gas,i=t.vatk,u=t.vdef,p=t.vagi,s=t.everyDayHp,y=n.reward,l=n.exp;return r.a.map((function(e){var t=e.name,n=e.success,r=e.hploss,o=e.exp,c=e.reward,d=n+i/100,m=c*(100+y)/100,f=m+p*m/1e3,T=r-u/10,b=s/(((100-d)*r+d*T)/100),h=d/100*(o+l),v=Math.ceil(b*h),g=(b*(d/100*f-a)).strip(4);return{name:t,successC:d,rewardC:f.strip(8),hplossC:T,everyXp:v,everyRewrad:g}}))}},606:function(e,t,n){},646:function(e,t){},648:function(e,t){},652:function(e,t){},653:function(e,t){},677:function(e,t){},679:function(e,t){},689:function(e,t){},691:function(e,t){},701:function(e,t){},703:function(e,t){},717:function(e,t){},749:function(e,t){},752:function(e,t){},817:function(e,t){},819:function(e,t){},824:function(e,t){},826:function(e,t){},833:function(e,t){},845:function(e,t){},848:function(e,t){},853:function(e,t){},927:function(e,t,n){"use strict";n(606)},933:function(e,t,n){"use strict";n.r(t);var a=n(634),i=n.n(a),r=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"CancelledListing",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bnbPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bnbhPrice",type:"uint256"}],name:"ListingPriceChange",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bnbPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bnbhPrice",type:"uint256"}],name:"NewListing",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bnbPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bnbhPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tax",type:"uint256"}],name:"PurchaseListing",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"bannedList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"bnbhToken",outputs:[{internalType:"contract IBEP20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"characters",outputs:[{internalType:"contract IBNBHCharacter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"excludeFromTax",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"lastTransferredTimes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maintenanceMode",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"minimumPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceOracle",outputs:[{internalType:"contract IPriceOracle",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"taxFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"taxFeeRecepient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IBEP20",name:"_bnbhToken",type:"address"},{internalType:"contract IBNBHCharacter",name:"_characters",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"migrateExcludeFromTax",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"}],name:"removeBannedHeores",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"setTokenAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"character",type:"address"}],name:"setCharacterAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"mode",type:"bool"}],name:"setmaintenanceMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"fee",type:"uint256"}],name:"setTaxFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"setTaxFeeRecepient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"oracle",type:"address"}],name:"setPriceOracle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"setMinimumPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bool",name:"state",type:"bool"}],name:"setBannedAccount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_limit",type:"uint256"},{internalType:"uint256",name:"_pageNumber",type:"uint256"}],name:"getCharacterListingIDsPage",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_limit",type:"uint256"},{internalType:"uint256",name:"_pageNumber",type:"uint256"}],name:"getCharactersForPage",outputs:[{components:[{internalType:"uint256",name:"name",type:"uint256"},{internalType:"uint256",name:"heroType",type:"uint256"},{internalType:"uint256",name:"xp",type:"uint256"},{internalType:"uint256",name:"attack",type:"uint256"},{internalType:"uint256",name:"armor",type:"uint256"},{internalType:"uint256",name:"speed",type:"uint256"},{internalType:"uint256",name:"hp",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"seller",type:"address"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"level",type:"uint256"},{internalType:"uint256",name:"heroClass",type:"uint256"}],internalType:"struct BNBHMarket.MarketHero[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllTokenIds",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"seller",type:"address"}],name:"getCharactersForSeller",outputs:[{components:[{internalType:"uint256",name:"name",type:"uint256"},{internalType:"uint256",name:"heroType",type:"uint256"},{internalType:"uint256",name:"xp",type:"uint256"},{internalType:"uint256",name:"attack",type:"uint256"},{internalType:"uint256",name:"armor",type:"uint256"},{internalType:"uint256",name:"speed",type:"uint256"},{internalType:"uint256",name:"hp",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"seller",type:"address"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"level",type:"uint256"},{internalType:"uint256",name:"heroClass",type:"uint256"}],internalType:"struct BNBHMarket.MarketHero[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_heroId",type:"uint256"}],name:"getCharacterDataById",outputs:[{components:[{internalType:"uint256",name:"name",type:"uint256"},{internalType:"uint256",name:"heroType",type:"uint256"},{internalType:"uint256",name:"xp",type:"uint256"},{internalType:"uint256",name:"attack",type:"uint256"},{internalType:"uint256",name:"armor",type:"uint256"},{internalType:"uint256",name:"speed",type:"uint256"},{internalType:"uint256",name:"hp",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"seller",type:"address"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"level",type:"uint256"},{internalType:"uint256",name:"heroClass",type:"uint256"}],internalType:"struct BNBHMarket.MarketHero",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"}],name:"getCharacterDataByIds",outputs:[{components:[{internalType:"uint256",name:"name",type:"uint256"},{internalType:"uint256",name:"heroType",type:"uint256"},{internalType:"uint256",name:"xp",type:"uint256"},{internalType:"uint256",name:"attack",type:"uint256"},{internalType:"uint256",name:"armor",type:"uint256"},{internalType:"uint256",name:"speed",type:"uint256"},{internalType:"uint256",name:"hp",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"seller",type:"address"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"level",type:"uint256"},{internalType:"uint256",name:"heroClass",type:"uint256"}],internalType:"struct BNBHMarket.MarketHero[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getSellerOfNftID",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_seller",type:"address"}],name:"getNumberOfListingsBySeller",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_seller",type:"address"}],name:"getListingIDsBySeller",outputs:[{internalType:"uint256[]",name:"tokens",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNumberOfCharacterListings",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_heroId",type:"uint256"}],name:"canListOrChangePrice",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"}],name:"addListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint256",name:"_newPrice",type:"uint256"}],name:"changeListingPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"cancelListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"purchaseListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"}],u=n(448),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function s(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function a(i,r){try{var u=t[i](r),p=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(p).then((function(e){a("next",e)}),(function(e){a("throw",e)}));e(p)}("next")}))}}var y={name:"Market",data:function(){return{contract:"0x5CFFca0321b83dc873Bd2439aE7fEA10aE163fac",filterHero:Object(u.e)("filterHero")||"",filterMoney:Object(u.e)("filterMoney")||"",filterClass:Object(u.e)("filterClass")||"",filterType:Object(u.e)("filterType")||"",contractData:void 0,page:Object(u.e)("markPage")||50,columns:[{title:"編號",key:"tokenId"},{title:"名字",key:"name"},{title:"職業",key:"heroClass"},{title:"稀有度",key:"heroType"},{title:"等級",key:"level"},{title:"經驗",key:"xp"},{title:"價錢",key:"price"}],data:[],typeObj:{1:"黃",2:"綠",3:"藍",4:"紫",5:"金"},classObj:{1:"劍士",2:"獵人",3:"刺客",4:"法師",5:"騎士"},isLoading:!0}},beforeMount:function(){var e=this;return s(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="0x5CFFca0321b83dc873Bd2439aE7fEA10aE163fac",t.next=3,e.getWeb3();case 3:return a=t.sent,t.next=6,new a.eth.Contract(r,n);case 6:e.contractData=t.sent,e.getCharactersForPage();case 8:case"end":return t.stop()}}),t,e)})))()},methods:{getCharactersForPage:function(){var e=this;return s(regeneratorRuntime.mark((function t(){var n,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.contractData.methods.getNumberOfCharacterListings().call();case 3:return n=t.sent,a=Math.ceil(n/+e.page)-1,t.next=7,e.contractData.methods.getCharactersForPage(+e.page,a).call();case 7:i=t.sent,e.handleMarkData(i),e.isLoading=!1;case 10:case"end":return t.stop()}}),t,e)})))()},getWeb3:function(){var e,t=this;return new Promise((e=s(regeneratorRuntime.mark((function e(n,a){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new i.a(window.ethereum),e.prev=1,e.next=4,window.ethereum.enable();case 4:n(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a(e.t0);case 10:case"end":return e.stop()}}),e,t,[[1,7]])}))),function(t,n){return e.apply(this,arguments)}))},handleMarkData:function(e){var t=this;this.data=e.map((function(e,n){var a=p({},e);return a.price=(a.price/1e18).toFixed(3),a.priceText=a.price+" BNB",a.heroType=t.typeObj[a.heroType],a.heroClass=t.classObj[a.heroClass],a})),Object(u.f)("filterHero",this.filterHero),Object(u.f)("filterMoney",this.filterMoney),Object(u.f)("filterClass",this.filterClass),Object(u.f)("filterType",this.filterType),Object(u.f)("markPage",this.page)}},computed:{tableData:function(){var e=this;return this.filterHero||this.filterMoney||this.filterClass||this.filterType?this.data.filter((function(t){var n=t.name,a=t.heroClass,i=t.heroType,r=t.price;return(n.includes(e.filterHero)||!e.filterHero)&&(a.includes(e.filterClass)||!e.filterClass)&&(+e.filterMoney>+r||!e.filterMoney)&&(i.includes(e.filterType)||!e.filterType)})):this.data}}},l=(n(927),n(2)),o=Object(l.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("Row",[n("Col",{attrs:{span:"4"}},[n("Input",{attrs:{clearable:"",placeholder:"篩選英雄"},model:{value:e.filterHero,callback:function(t){e.filterHero=t},expression:"filterHero"}})],1),e._v(" "),n("Col",{attrs:{span:"4"}},[n("Input",{attrs:{clearable:"",placeholder:"篩選職業"},model:{value:e.filterClass,callback:function(t){e.filterClass=t},expression:"filterClass"}})],1),e._v(" "),n("Col",{attrs:{span:"4"}},[n("Input",{attrs:{clearable:"",placeholder:"篩選稀有度"},model:{value:e.filterType,callback:function(t){e.filterType=t},expression:"filterType"}})],1),e._v(" "),n("Col",{attrs:{span:"4"}},[n("Input",{attrs:{clearable:"",placeholder:"價格小於"},model:{value:e.filterMoney,callback:function(t){e.filterMoney=t},expression:"filterMoney"}})],1),e._v(" "),n("Col",{attrs:{span:"4"}},[n("Input",{attrs:{clearable:"",placeholder:"最後幾筆"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1),e._v(" "),n("Col",{attrs:{span:"4"}},[n("Button",{attrs:{loading:e.isLoading,type:"success",long:"",icon:"ios-search"},on:{click:e.getCharactersForPage}},[e._v("\n                    計算\n                ")])],1)],1),e._v(" "),n("Table",{attrs:{columns:e.columns,data:e.tableData}})],1)}),[],!1,null,"3c83d928",null);t.default=o.exports}}]);
//# sourceMappingURL=Marketc3b78929f7526df1300e.js.map